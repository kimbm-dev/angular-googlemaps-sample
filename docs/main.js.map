{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/maps.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"h1 {\\n  margin: 0;\\n  padding: 0;\\n  font-size: 16px;\\n  box-sizing: border-box;\\n  line-height: 10vh;\\n}\\n.gmaps {\\n  width: 100%;\\n  height: 90vh;\\n}\\n\"","module.exports = \"<!-- The content below is only a placeholder and can be replaced. -->\\n<div style=\\\"text-align:center\\\">\\n  <h1>\\n    Welcome to\\n    <a\\n      href=\\\"https://github.com/maechabin/angular-googlemaps-sample\\\"\\n      target=\\\"_blank\\\"\\n      >{{ title }}</a\\n    >!\\n  </h1>\\n  <div class=\\\"gmaps\\\"></div>\\n</div>\\n\"","import { Component, ElementRef, OnInit } from '@angular/core';\nimport Map from './maps';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent implements OnInit {\n  title = 'angular-googlemaps-sample';\n\n  private _el: HTMLElement;\n\n  readonly map = new Map();\n\n  constructor(private el: ElementRef) {\n    this._el = el.nativeElement;\n  }\n\n  ngOnInit() {\n    const gmaps = this._el.querySelector('.gmaps') as HTMLDivElement;\n\n    /** コンポーネントがマウントされたらMapを表示する */\n    this.map.initMap(gmaps);\n\n    /** Map上にマーカーを表示する */\n    this.map.initMarker();\n\n    /** Map上にポリラインを表示する */\n    this.map.initPolyLine();\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","/// <reference types=\"@types/googlemaps\" />\nimport { Point, LineSymbol } from './googlemaps.model';\n\nclass Maps {\n  /** Markerを表示する拠点リスト */\n  points: Point[] = [\n    { title: 'maker1', position: { lat: -25.363, lng: 131.044 } },\n    { title: 'maker2', position: { lat: -32.397, lng: 20.044 } },\n    { title: 'maker3', position: { lat: 34.397, lng: 25.044 } },\n    { title: 'maker4', position: { lat: 48.397, lng: 90.044 } },\n    { title: 'maker5', position: { lat: 29.32, lng: 135.9 } },\n  ];\n\n  map!: google.maps.Map;\n\n  /** ポリライン */\n  line: google.maps.Polyline | null = null;\n\n  /**\n   * Mapを任意の要素に表示する\n   * @param mapDiv Mapを表示する要素\n   */\n  public initMap(mapDiv: HTMLDivElement | null): void {\n    /**\n     * 地図を表示する際のオプション（初期表示）\n     * Mapsのオプション一覧\n     * https://developers.google.com/maps/documentation/javascript/reference/map#MapOptions\n     */\n    const mapOptions: google.maps.MapOptions = {\n      center: new google.maps.LatLng(-34.397, 150.644),\n      zoom: 8,\n      mapTypeId: google.maps.MapTypeId.ROADMAP,\n    };\n\n    /** Mapオブジェクトに地図表示要素情報とオプション情報を渡し、インスタンス生成 */\n    this.map = new google.maps.Map(mapDiv, mapOptions); // <= refで取得した要素\n  }\n\n  /**\n   * Map上にマーカーを表示する\n   */\n  public initMarker(): void {\n    /** 範囲（境界）のインスタンスを作成するクラス */\n    const bounds = new google.maps.LatLngBounds();\n\n    /** Markerを表示 */\n    this.points.forEach(\n      (point: Point): void => {\n        /**\n         * Markerを設定\n         * \bMarkerオプション\n         * https://developers.google.com/maps/documentation/javascript/reference/marker#MarkerOptions\n         */\n        const marker = new google.maps.Marker({\n          map: this.map,\n          draggable: true, // ドラッグできるか\n          opacity: 0.7, // 透明度\n          position: point.position,\n          title: point.title,\n        });\n\n        /** 位置情報を範囲に追加 */\n        bounds.extend(marker.getPosition());\n\n        /** 吹き出しを設定 */\n        const infoWindow = new google.maps.InfoWindow({\n          content: point.title,\n        });\n\n        /** クリック時の処理（吹き出し表示） */\n        marker.addListener('click', () => {\n          infoWindow.open(this.map, marker);\n        });\n\n        /** マーカードラッグ時の処理（ポリラインのアップデート） */\n        marker.addListener('dragend', (event: google.maps.MouseEvent) => {\n          const title = point.title;\n          this.points = this.points.map((p: Point) => {\n            if (p.title === title) {\n              return {\n                ...p,\n                position: {\n                  lat: event.latLng.lat(),\n                  lng: event.latLng.lng(),\n                },\n              };\n            }\n            return p;\n          });\n\n          this.initPolyLine();\n        });\n      },\n    );\n\n    /** すべてのMarkerを地図に収める */\n    this.map.fitBounds(bounds);\n  }\n\n  /**\n   * Map上にポリラインを表示する\n   */\n  public initPolyLine(): void {\n    /**\n     * 既存のポリラインを削除\n     * https://developers.google.com/maps/documentation/javascript/examples/polyline-remove\n     * */\n    if (this.line !== null) {\n      this.line.setMap(null);\n    }\n\n    /**\n     * polyline上を動くシンボル\n     * https://developers.google.com/maps/documentation/javascript/symbols#animate\n     * */\n    const lineSymbol: LineSymbol = {\n      path: google.maps.SymbolPath.CIRCLE,\n      scale: 8,\n      strokeColor: '#113345',\n    };\n\n    /** polylineを表示 */\n    this.line = new google.maps.Polyline({\n      path: this.points\n        .map((point: Point) => {\n          return point.position;\n        })\n        .concat([this.points[0].position]),\n      icons: [\n        {\n          icon: lineSymbol,\n          offset: '100%',\n        },\n      ],\n      strokeColor: '#ccc',\n      map: this.map,\n    });\n\n    /** ポリラインを表示 */\n    this.line.setMap(this.map);\n\n    /** アニメーションを実行 */\n    this.animateCircle(this.line);\n  }\n\n  /**\n   * シンボルをpolylineに沿ってアニメーションさせる\n   * */\n  private animateCircle(line: google.maps.Polyline): void {\n    let count = 0;\n    window.setInterval((): void => {\n      count = (count + 1) % 200;\n\n      const icons = line.get('icons');\n      icons[0].offset = count / 2 + '%';\n      line.set('icons', icons);\n    }, 40);\n  }\n}\n\nexport default Maps;\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, for easier debugging, you can ignore zone related error\n * stack frames such as `zone.run`/`zoneDelegate.invokeTask` by importing the\n * below file. Don't forget to comment it out in production mode\n * because it will have a performance impact when errors are thrown\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}